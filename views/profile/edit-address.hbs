
<style>
   .main{
    display: flex;
    flex-direction: row;
    justify-content: space-around;
    width: 100%;
    height: 100%;
    background-color: #F0F5FF;
   }
   .left-sidebar{
    margin-top: 20px;
    margin-bottom: 100px;
    width: 18%;
    height: 75%;
    background-color: white;

   }

   .right{
    margin-top: 20px;
    width: 70%;
    height: 100%;
    
   }

   ul li{
    height:75px;
    display: flex;
     justify-content: center;
    align-items: center;
   
   }
   ul li a{
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: flex-start;
    align-items: center;
   }
   ul li:hover{
    background-color:red;
    color:#fff;
   }
   ul li a:hover{
    color: white;
   
   }

   ul li a svg{
    margin-left: 5%;
    margin-right: 5%;
   
   }
   ul li a span{
    font-size: 18px;
    font-weight: 500;
   }
   input[type=text], select, textarea {
  width: 100%; /* Full width */
  padding: 12px; /* Some padding */ 
  border: 1px solid #ccc; /* Gray border */
  border-radius: 4px; /* Rounded borders */
  box-sizing: border-box; /* Make sure that padding and width stays in place */
  margin-top: 6px; /* Add a top margin */
  margin-bottom: 16px; /* Bottom margin */
  resize: vertical /* Allow the user to vertically resize the textarea (not horizontally) */
}

/* Style the submit button with a specific background color etc */
input[type=submit] {
  background-color: #04AA6D;
  color: white;
  padding: 12px 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

/* When moving the mouse over the submit button, add a darker green color */
input[type=submit]:hover {
  background-color: #45a049;
}

.displaytoggle{
    display: none;
}
input{
  box-shadow: 1px 1px 1px black;
}
/* Add a background color and some padding around the form */


   @media only screen and  (max-width:750px){
    .add{
    flex-direction: column;
    }
    ul li a span{
        display:none;
    }
    ul li a{
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
   }
</style>


<div class="main" style="background-color:#DEE2E5;">
    <div class="left-sidebar" style="border-radius: 5px;box-shadow: 1px 1px 5px black;">
        <ul>
            <li><a href="/profile/dashboard">
                <svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" class="gb_i" focusable="false" viewBox="0 0 24 24" width="24" height="24"><path d="M6,8c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM12,20c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM6,20c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM6,14c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM12,14c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM16,6c0,1.1 0.9,2 2,2s2,-0.9 2,-2 -0.9,-2 -2,-2 -2,0.9 -2,2zM12,8c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM18,14c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM18,20c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2z" fill="#5F6368"></path><image src="https://ssl.gstatic.com/gb/images/bar/al-icon.png" alt="" height="24" width="24" style="border:none;display:none \9" fill="#5F6368"></image></svg>
                <span>Dashboard</span>
                </a></li>
            <li><a href="/profile/account-details">
                <svg xmlns="http://www.w3.org/2000/svg" height="16" width="14" viewBox="0 0 448 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/></svg>
                <span>Account Details</span>
                </a></li>
            <li><a href="/order/order-history">
                <svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path d="M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"/></svg>
                <span>Order History</span>
                </a></li>
            {{!-- <li>
                <a href="/order/trackorder">
                    <svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path d="M256 0c17.7 0 32 14.3 32 32V66.7C368.4 80.1 431.9 143.6 445.3 224H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H445.3C431.9 368.4 368.4 431.9 288 445.3V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V445.3C143.6 431.9 80.1 368.4 66.7 288H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H66.7C80.1 143.6 143.6 80.1 224 66.7V32c0-17.7 14.3-32 32-32zM128 256a128 128 0 1 0 256 0 128 128 0 1 0 -256 0zm128-80a80 80 0 1 1 0 160 80 80 0 1 1 0-160z"/></svg>
                    <span>Track Order</span>
                </a></li>
            --}}
            <li>
                <a href="/cart/view-cart">
                    <svg xmlns="http://www.w3.org/2000/svg" height="16" width="18" viewBox="0 0 576 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path d="M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"/></svg>
                    <span>Shopping Cart</span>
                    </a></li>
            <li>
                <a href="/profile/wishlist">
                    <svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path d="M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8v-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5v3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20c0 0-.1-.1-.1-.1c0 0 0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5v3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2v-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z"/></svg>
                    <span>
                    Wishlist</span></a>
                    </li>
            <li> <a href="/profile/address">
                <svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path d="M384 48c8.8 0 16 7.2 16 16V448c0 8.8-7.2 16-16 16H96c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16H384zM96 0C60.7 0 32 28.7 32 64V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H96zM240 256a64 64 0 1 0 0-128 64 64 0 1 0 0 128zm-32 32c-44.2 0-80 35.8-80 80c0 8.8 7.2 16 16 16H336c8.8 0 16-7.2 16-16c0-44.2-35.8-80-80-80H208zM512 80c0-8.8-7.2-16-16-16s-16 7.2-16 16v64c0 8.8 7.2 16 16 16s16-7.2 16-16V80zM496 192c-8.8 0-16 7.2-16 16v64c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm16 144c0-8.8-7.2-16-16-16s-16 7.2-16 16v64c0 8.8 7.2 16 16 16s16-7.2 16-16V336z"/></svg>
                <span>Address</span>
                </a></li>
            <li><a href="/profile/wallet">
                <svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V192c0-35.3-28.7-64-64-64H80c-8.8 0-16-7.2-16-16s7.2-16 16-16H448c17.7 0 32-14.3 32-32s-14.3-32-32-32H64zM416 272a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg>
                <span>Wallet</span></a>
                </li>
            <li><a href="/user_resetpassword">
                <svg xmlns="http://www.w3.org/2000/svg" height="16" width="14" viewBox="0 0 448 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path d="M144 144v48H304V144c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192V144C80 64.5 144.5 0 224 0s144 64.5 144 144v48h16c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V256c0-35.3 28.7-64 64-64H80z"/></svg>
                <span>Reset Password</span>
                </a></li>
            <li><a href="/user_logout">
                <svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path d="M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"/></svg>
                <span>Logout</span>
                </a></li>

  
        </ul>   
    </div>






    <div class="right">
   <div class="container" style="display: flex;flex-direction: column;align-items: center; ">
           {{!-- shipping adress --}}
               <div style="width: 100%;;">

             <input value="{{#if error}}ADDRESS ALREADY EXIST{{else}}EDIT ADDRESS{{/if}}" class="" onclick="view()" id="lname"  style="width: 75%; height: 51px; border: 1px solid rgb(160, 150, 150);border-radius: 3px;margin-left: 12%; text-align: center;margin-bottom: 30px;" >


                </div>
           {{!-- shipping address --}}
          
    <form  action="/profile/edit-address?id={{address._id}}" style="width: 75%;"  id="shippingform" method="post">
    {{!-- firstname lastname --}}
    <div class="add" style="display: flex;justify-content: space-between;">
     <div>
      <label for="fname">First Name</label>
       <input  type="text" id="firstname" name="firstname" value="{{address.firstname}}">
       <span id="firstnameErr" class="text-danger"></span>
     </div>
     <div>

       <label for="lname">Last Name</label>
       <input type="text" id="lastname" name="lastname" value="{{address.lastname}}" >
        <span id="lastnameErr" class="text-danger"></span>
     </div>

    </div>
    {{!-- firstname lastname --}}
 {{!-- address --}}
     <label >Address</label>
    <input type="text" id="address" name="address" value="{{address.address}}" >
     <span id="addressErr" class="text-danger"></span>
     {{!-- address --}}
     {{!-- email --}}
   
      {{!-- email --}}
     {{!-- country state --}}
      <div style="display: flex; justify-content: space-between;">

      <div>

    <label id="country">Country</label>
    <select id="country" name="country" >
      <option value="{{#if address.country}}{{address.country}}{{/if}}">{{#if address.country}}{{address.country}}{{else}}Choose...{{/if}}</option>
      <option value="india" selected>India</option>
      <option value="canada">Canada</option>
      <option value="usa">USA</option>
    </select>
      </div>
      <div>

    <label id="state">State</label>
    <select id="state" name="state">
      <option value="{{#if address.state}}{{address.state}}{{/if}}">{{#if address.state}}{{address.state}}{{else}}Choose...{{/if}}</option>
      <option value="kerala" selected>Kerala</option>
      <option value="tamilnadu">Tamilnadu</option>
      <option value="karnataka">Karnataka</option>
    </select>
      </div>
      </div>
{{!-- country state --}}

<div style="width: 100%;">
  <label >Email</label>
    <input  value="{{address.email}}" type="email" id="email" name="email" style="width: 100%; height: 51px; border: 1px solid rgb(160, 150, 150);border-radius: 3px;" >
  <span id="emailErr" class="text-danger"></span>

</div>
{{!-- cityzipcode --}}

<div class="add" style="display: flex; justify-content: space-between;">

      <div>

    <label id="city">City</label>
    <select id="city" name="city" >
      <option value="{{#if address.city}}{{address.city}}{{/if}}">{{#if address.city}}{{address.city}}{{else}}Choose...{{/if}}</option>
      <option value="Calicut" selected>Calicut</option>
      <option value="Cochi">Cochi</option>
      <option value="Tvm">Tvm</option>
    </select>
      </div>
      <div style="display: flex; flex-direction: column;">
      {{!-- zipcode --}}

    <label id="">Zipcode</label>
      <input value="{{address.zipcode}}" type="number" name="zipcode" id="zipcode" style="height: 50px;border-radius: 3px;border: 1px solid grey; width: 250px;">
        <span id="zipcodeErr" class="text-danger"></span>
      </div>
      </div>
      {{!-- cityzipcode --}}

      {{!-- phonenumber --}}
      <div style="width: 100%;">
  <label >Phone Number</label>
    <input value="{{address.phonenumber}}" type="number" id="phonenumber" name="phonenumber" style="width: 100%; height: 51px; border: 1px solid rgb(160, 150, 150);border-radius: 3px;" >
  <span id="phonenumberErr" class="text-danger"></span>

</div>
      
{{!-- phone --}}
    

   <div style="width: 100%;">
    <button type="submit" style="width: 100%; margin-top: 20px; height: 50px;color: white;background-color: red;" class="btn" >Save Changes</button>

   </div>

  </form>
  
  
</div>
      
 

    </div>

</div>



<script>
function view(){
    document.getElementById("shippingform").classList.toggle("displaytoggle")
}






document.getElementById("shippingform").addEventListener("submit",function(e){

  
 let firstName = document.getElementById("firstname").value;
 let firstNameErr=document.getElementById("firstnameErr")
 let lastName = document.getElementById("lastname").value;
 let lastNameErr = document.getElementById("lastnameErr");

 let email = document.getElementById("email").value;
 let emailErr = document.getElementById("emailErr");

 let address = document.getElementById("address").value;
 let addressErr = document.getElementById("addressErr")

 let phoneNumber = document.getElementById("phonenumber").value;
 let phoneNumberErr = document.getElementById("phonenumberErr");

 let zipcode = document.getElementById("zipcode").value;
 console.log(zipcode,'zip')
 let zipcodeErr = document.getElementById("zipcodeErr")



 function firstnameError(msg){
  e.preventDefault()
  firstNameErr.innerHTML=msg
} 

function LastnameError(msg){
    e.preventDefault()
  lastNameErr.innerHTML=msg
}
function emailError(msg){
   e.preventDefault()
  emailErr.innerHTML=msg
}
function addressError(msg){
  e.preventDefault()
  addressErr.innerHTML=msg
}

function phonenumberError(msg){
  e.preventDefault()
  phoneNumberErr.innerHTML=msg
}
function zipcodeError(msg){
  e.preventDefault()
  zipcodeErr.innerHTML=msg
}
//firstname
if(firstName==''){
 firstnameError('Required')

}
else if(/^\s+$/.test(firstName)){
  firstnameError("Enter a valid Name")
}
else if(firstName.length>10){
 firstnameError('Maximum limit exceeded')
}
else if(/[^a-zA-Z0-9\s]/.test(firstName)){
  firstnameError('Special character not allowed')
}
else if(/[0-9]/.test(firstName)){
  firstnameError('Number not allowed')
}
else{
  firstNameErr.innerHTML=''
}

//lastname;
if(lastName==''){
  LastnameError('Required')
}
else if(/^\s+$/.test(lastName)){
  LastnameError("Enter a valid Name")
}
else if(lastName.length>10){
 LastnameError('Maximum limit exceeded')
}
else if(/[^a-zA-Z0-9\s]/.test(lastName)){
  LastnameError('Special character not allowed')
}
else if(/[0-9]/.test(lastName)){
  LastnameError('Number not allowed')
}
else{
  lastNameErr.innerHTML=''
}

//address
if(email==''){
  emailError('Required')
}
else if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)==false){
  emailError('Enter a valid email Address')
}
else{
  emailErr.innerHTML=''
}

//adress
if(address==''){
  addressError('Required')
}
else if(address.length<15){
  addressError('Minimum 15 character required')
}
else{
  addressErr.innerHTML=''
}

//phonenumber

if(phoneNumber==''){
  phonenumberError('Required')
}
else if(phoneNumber.length!==10){
   phonenumberError('Must be 10 digit')
}
else if(/^0+$/.test(phoneNumber)){
  phonenumberError("Only contains zero")
}
else{
  phoneNumberErr=''
}
//zipcode
if(zipcode==''){
  zipcodeError('Required')
}
else{
  zipcode=''
}


})




</script>